<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>


    <div>
        <p>Welcome Player, first to 5 wins! Pick your poison:</p>
        <button id="rock"> ROCK </button>
        <button id="paper"> PAPER </button>
        <button id="scissors"> SCISSORS </button>
    </div>

    <p id="result"></p>

    <p id="score"></p>

    <p id="match"></p>

    <script>
var playerScore = 0;
var computerScore = 0;

const playRound = (event) => {
    if (event.target.nodeName === 'BUTTON') {
        game ((event.target.id), getComputerChoice ());
        console.log ((event.target.id == "rock"))
        console.log ((getComputerChoice ()))
    }
}
window.addEventListener('click', playRound);
document.getElementById("score").textContent = `You Score: ${playerScore} Computer Score: ${computerScore}`;

function gameEnd () {
    if (playerScore >= 5) {
        document.getElementById("match").textContent = "Match ENDED! You WON!"
        playerScore = 0;
        computerScore =0;
    } else if (computerScore >= 5) {
        document.getElementById("match").textContent = "Match ENDED! You LOSE!"
        playerScore = 0;
        computerScore =0;
    }
}

function getComputerChoice () { //function to randomise selection from array
    const selection = ["rock", "paper", "scissors"]
    result = Math.floor (Math.random() * selection.length)
    return selection [result]
}

function game (player, computer) {
        if (player == computer) {
            document.getElementById("result").textContent = "It's a tie!!"; 

        } else if ((player == "rock" && computer == "scissors") || (player == "paper" && computer == "rock") || (player == "scissors" && computer == "paper")  ) {
            document.getElementById("result").textContent = "You win!!";
            console.log (playerScore)
            playerScore += 1;

        } else {
            document.getElementById("result").textContent = "You lose!!"; 
            computerScore += 1;
        } 
        document.getElementById("score").textContent = `You Score: ${playerScore} Computer Score: ${computerScore}`;
        gameEnd ();
}








    </script>
    
</body>
</html>